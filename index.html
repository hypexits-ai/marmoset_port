<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Marm0SET_toolBAG | Portfolio</title>
    <link href="https://unpkg.com" rel="stylesheet">
    <style>
        :root { 
            --bg: #0a0a0a; --text: #f5f5f5; --gray-light: rgba(25, 25, 30, 0.6); 
            --line: rgba(255,255,255,0.08); --accent: #fff; --border-glass: rgba(255, 255, 255, 0.3);
            --glow: rgba(255, 255, 255, 0.5); --transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        [data-theme="light"] {
            --bg: #ffffff; --text: #000; --gray-light: rgba(240, 240, 245, 0.5); 
            --accent: #000; --line: rgba(0,0,0,0.1); --border-glass: rgba(0, 0, 0, 0.15); 
            --glow: rgba(0, 0, 0, 0.2);
        }

        html, body { max-width: 100%; overflow-x: hidden; margin: 0; padding: 0; scroll-behavior: smooth; }
        body { background: var(--bg); color: var(--text); font-family: 'Inter', sans-serif; transition: background 0.5s; user-select: none; -webkit-user-select: none; }
        
        #gradient-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
        #progress-bar { position: fixed; top: 0; left: 0; height: 4px; background: var(--accent); width: 0%; z-index: 1000; }

        nav { padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; background: var(--gray-light); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); z-index: 100; border-bottom: 1px solid var(--line); box-sizing: border-box; }
        .logo { font-weight: 900; font-size: 1rem; text-transform: uppercase; letter-spacing: 1px; }
        .btn-ui { cursor: pointer; background: var(--gray-light); border: 1px solid var(--line); color: var(--text); padding: 8px 16px; border-radius: 25px; font-size: 11px; font-weight: 800; text-decoration: none; transition: 0.3s; }
        .btn-ui:hover { background: var(--accent); color: var(--bg); }

        header { padding: 80px 25px 40px; max-width: 1200px; margin: 0 auto; }
        header h1 { font-size: 2.8rem; margin: 0; font-weight: 900; line-height: 1.1; text-transform: uppercase; letter-spacing: -2px; }
        @media (min-width: 768px) { header h1 { font-size: 5rem; } }

        .about-section { padding: 50px; max-width: 1200px; margin: 30px auto; width: 92%; box-sizing: border-box; }
        .about-grid h3 { font-size: 1.5rem; font-weight: 900; text-transform: uppercase; margin-bottom: 20px; letter-spacing: -0.5px; }
        .about-list { list-style: none; padding: 0; margin: 0; font-size: 1.1rem; line-height: 1.7; font-weight: 500; }
        .about-list li { margin-bottom: 12px; opacity: 0.85; }
        .about-list li::before { content: "‚Äî "; color: var(--accent); font-weight: 900; }

        .card { width: 100%; max-width: 600px; overflow: hidden; position: relative; margin: 0 auto; transition: transform 0.4s, border-color 0.3s; border-radius: 40px; }
        .card:hover { transform: translateY(-5px); border-color: var(--glow) !important; }
        .card h3 { font-size: 1.6rem; font-weight: 900; margin: 0 0 8px 0; letter-spacing: -0.5px; }
        .card p { font-size: 0.85rem; font-weight: 800; text-transform: uppercase; letter-spacing: 2px; opacity: 0.6; margin: 0; color: var(--accent); }

        .gallery { display: grid; grid-template-columns: 1fr; gap: 40px; padding: 25px; width: 100%; box-sizing: border-box; }
        @media (min-width: 768px) { .gallery { grid-template-columns: repeat(2, 1fr); padding: 60px; gap: 80px; max-width: 1600px; margin: 0 auto; } }

        .slider-viewport { position: relative; height: 400px; width: 100%; overflow: hidden; touch-action: pan-y; background: var(--bg); }
        @media (min-width: 768px) { .slider-viewport { height: 550px; } }

        .slide { position: absolute; inset: 0; opacity: 0; transition: opacity 0.6s ease; }
        .slide.active { opacity: 1; z-index: 5; }
        .slide img { width: 100%; height: 100%; object-fit: contain; background: var(--bg); }

        .nav-arrow { position: absolute; top: 50%; transform: translateY(-50%); background: var(--accent); color: var(--bg); border: none; width: 50px; height: 50px; border-radius: 50%; cursor: pointer; z-index: 50; opacity: 0; transition: 0.3s; display: none; font-weight: 900; }
        @media (hover: hover) { .slider-viewport:hover .nav-arrow { opacity: 1; } .nav-arrow { display: flex; align-items: center; justify-content: center; } }

        .dots { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); display: flex; gap: 6px; z-index: 10; }
        .dot { width: 8px; height: 8px; background: rgba(128,128,128,0.4); border-radius: 50%; transition: 0.3s; }
        .dot.active { background: var(--accent); width: 24px; border-radius: 4px; }

        #lightbox { position: fixed; inset: 0; background: rgba(0,0,0,0.98); display: none; z-index: 2000; align-items: center; justify-content: center; }
        #lightbox img { max-width: 95%; max-height: 90%; object-fit: contain; }

        footer { padding: 80px 40px; text-align: center; font-weight: 800; font-size: 12px; letter-spacing: 2px; opacity: 0.5; }
    </style>
</head>
<body data-theme="dark">

<canvas id="gradient-canvas"></canvas>
<div id="progress-bar"></div>
<div id="lightbox" onclick="closeLB(event)">
    <button class="nav-arrow arrow-left" style="left:20px" onclick="changeLBImg(-1, event)">‚ùÆ</button>
    <button class="nav-arrow arrow-right" style="right:20px" onclick="changeLBImg(1, event)">‚ùØ</button>
    <img id="lb-img" src="">
</div>
<div class="site-version">v1.6.8</div>

<nav>
    <div class="logo">MARM0SET</div>
    <div class="nav-controls">
        <button class="btn-ui" onclick="toggleLang()" id="lang-btn">EN</button>
        <button class="btn-ui" onclick="toggleTheme()" id="theme-btn">LIGHT</button>
        <a href="#contact" class="btn-ui" data-tr="nav_contact">–ö–û–ù–¢–ê–ö–¢–´</a>
    </div>
</nav>

<header data-aos="fade-up">
    <h1 data-tr="header_title">–ë–µ—Å–∫–æ–º–ø—Ä–æ–º–∏—Å—Å–Ω—ã–π —Ñ–æ—Ç–æ—Ä–µ–∞–ª–∏–∑–º</h1>
</header>

<section class="about-section" data-aos="fade-up">
    <div class="about-grid">
        <div style="margin-bottom: 40px;">
            <h3 data-tr="skills_title">–ö–ª—é—á–µ–≤—ã–µ –Ω–∞–≤—ã–∫–∏</h3>
            <ul class="about-list" id="skills-list"></ul>
        </div>
        <div>
            <h3 data-tr="help_title">–ü–æ–º–æ–≥—É –≤–∞–º</h3>
            <ul class="about-list" id="help-list"></ul>
        </div>
    </div>
</section>

<main class="gallery" id="portfolio-grid"></main>

<section class="contact-section" id="contact" data-aos="fade-up" style="margin: 60px auto; padding: 80px 25px; max-width: 1200px; text-align: center; width: 92%;">
    <h2 data-tr="contact_title" style="font-size: 2.5rem; font-weight: 900; margin-bottom: 40px; text-transform: uppercase;">–°–≤—è–∑–∞—Ç—å—Å—è —Å–æ –º–Ω–æ–π</h2>
    <div style="font-weight: 800; line-height: 2.5; font-size: 1.2rem;">
        <a href="https://kwork.ru" target="_blank" style="color:var(--text); text-decoration:none; border-bottom: 2px solid var(--accent);">üíº Kwork Profile</a><br>
        <span onclick="copyToClipboard('hypexits@mail.ru')" style="cursor:pointer;">üìß hypexits@mail.ru</span><br>
        <span onclick="copyToClipboard('@WINDUP_MARMOSET')" style="cursor:pointer;">‚úàÔ∏è @WINDUP_MARMOSET</span><br>
        <span onclick="copyToClipboard('+79251803895')" style="cursor:pointer;">üìû +7 (925) 180-38-95</span>
    </div>
</section>

<footer>¬© 2024 MARMOSET_TOOLBAG ‚Ä¢ 3D VISUALIZATION STUDIO</footer>

<script src="https://unpkg.com"></script>
<script>
    const canvas = document.getElementById('gradient-canvas');
    const ctx = canvas.getContext('2d');
    let time = 0;
    function animate() {
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        const isLight = document.body.getAttribute('data-theme') === 'light';
        const c1 = isLight ? {r:245,g:245,b:250} : {r:10,g:10,b:20};
        const c2 = isLight ? {r:220,g:225,b:240} : {r:30,g:15,b:50};
        const grad = ctx.createRadialGradient(canvas.width/2, canvas.height/2, 0, canvas.width/2, canvas.height/2, canvas.width);
        const shift = Math.sin(time) * 0.5 + 0.5;
        grad.addColorStop(0, `rgb(${c1.r},${c1.g},${c1.b})`);
        grad.addColorStop(shift, `rgb(${c2.r},${c2.g},${c2.b})`);
        grad.addColorStop(1, `rgb(${c1.r},${c1.g},${c1.b})`);
        ctx.fillStyle = grad; ctx.fillRect(0,0,canvas.width,canvas.height);
        time += 0.005; requestAnimationFrame(animate);
    }
    animate();

    const translations = {
        ru: {
            nav_contact: "–ö–û–ù–¢–ê–ö–¢–´", header_title: "–ë–µ—Å–∫–æ–º–ø—Ä–æ–º–∏—Å—Å–Ω—ã–π —Ñ–æ—Ç–æ—Ä–µ–∞–ª–∏–∑–º", contact_title: "–°–≤—è–∑–∞—Ç—å—Å—è —Å–æ –º–Ω–æ–π",
            skills_title: "–ö–ª—é—á–µ–≤—ã–µ –Ω–∞–≤—ã–∫–∏", help_title: "–ü–æ–º–æ–≥—É –≤–∞–º",
            skills: ["3D –ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: –î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏", "–§–æ—Ç–æ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è: –ü—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–µ –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è", "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –ò–≥—Ä/VR/AR: –ê—Å—Å–µ—Ç—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏", "3D –ê–Ω–∏–º–∞—Ü–∏—è: –û–∂–∏–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π", "–†–∞–∑–ª–∏—á–Ω—ã–µ –°—Ç–∏–ª–∏: –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º", "–°–æ—Ñ—Ç: Blender, Substance, UE5, Unity", "–í–Ω–∏–º–∞–Ω–∏–µ –∫ –¥–µ—Ç–∞–ª—è–º –∏ –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å"],
            help: ["–£–ª—É—á—à–∏—Ç—å –º–∞—Ä–∫–µ—Ç–∏–Ω–≥", "–û–∂–∏–≤–∏—Ç—å –∏–≥—Ä—ã", "–í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É", "–†–∞—Å—Å–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—Ä–∏–∏ —á–µ—Ä–µ–∑ –∞–Ω–∏–º–∞—Ü–∏—é"],
            p1_n: "Marshall Headphones", p1_t: "Product Visualisation",
            p2_n: "Nintendo Switch 2", p2_t: "Product Visualisation",
            p3_n: "Apple Vision Pro", p3_t: "Product Visualisation",
            p4_n: "AirPods 5", p4_t: "Product Visualisation",
            p5_n: "Apple Watch", p5_t: "Product Visualisation",
            p6_n: "–ò–Ω—Ç–µ—Ä—å–µ—Ä–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è", p6_t: "–ê—Ä—Ö–∏–≤–∏–∑",
            p7_n: "–°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π", p7_t: "Low-poly",
            p8_n: "–≠–∫—Å—Ç–µ—Ä—å–µ—Ä–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è", p8_t: "–ê—Ä—Ö–∏–≤–∏–∑",
            p9_n: "–í–æ–µ–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞", p9_t: "High-poly",
            p10_n: "–ò–≥—Ä–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ", p10_t: "Game-ready environment",
            p11_n: "Cinematics", p11_t: "AI and photorealistic renders"
        },
        en: {
            nav_contact: "CONTACT", header_title: "Uncompromising Photorealism", contact_title: "Get in Touch",
            skills_title: "Key Skills", help_title: "How I Can Help",
            skills: ["3D Modeling: High-detail models", "Photorealistic Visualization: Stunning renders", "Optimization: Performance-ready assets", "3D Animation: Bringing models to life", "Versatile Styles: Adaptable needs", "Software: Blender, Substance, UE5, Unity", "Attention to Detail"],
            help: ["Boost marketing", "Level up games", "Visualize architecture", "Tell stories through animation"],
            p1_n: "Marshall Headphones", p1_t: "Product Visualisation",
            p2_n: "Nintendo Switch 2", p2_t: "Product Visualisation",
            p3_n: "Apple Vision Pro", p3_t: "Product Visualisation",
            p4_n: "AirPods 5", p4_t: "Product Visualisation",
            p5_n: "Apple Watch", p5_t: "Product Visualisation",
            p6_n: "Interior Visualization", p6_t: "Archviz",
            p7_n: "Character Creation", p7_t: "Low-poly",
            p8_n: "Exterior Visualization", p8_t: "Archviz",
            p9_n: "Military Vehicles", p9_t: "High-poly",
            p10_n: "Game Environment", p10_t: "Game-ready environment",
            p11_n: "Cinematics", p11_t: "AI and photorealistic renders"
        }
    };

    let currentLang = 'ru';
    let myWorks = [];

    async function discoverWorks() {
        myWorks = []; updateUI();
        for(let pId=1; pId<50; pId++) {
            const firstImg = `images/p${pId}_1.webp`;
            const check = await fetch(firstImg, { method: 'HEAD' });
            if (check.ok) {
                let images = [firstImg];
                myWorks.push({ id: pId, images: images });
                renderGallery();
                // –ò—â–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–æ—Ç–æ –≤ —Ñ–æ–Ω–µ
                for(let i=2; i<=10; i++) {
                    const next = `images/p${pId}_${i}.webp`;
                    const nextCheck = await fetch(next, { method: 'HEAD' });
                    if(nextCheck.ok) { images.push(next); updateCard(pId); } else break;
                }
            } else break;
        }
    }

    function updateUI() {
        const tr = translations[currentLang];
        document.querySelectorAll('[data-tr]').forEach(el => { if(tr[el.getAttribute('data-tr')]) el.innerHTML = tr[el.getAttribute('data-tr')]; });
        const sl = document.getElementById('skills-list'); sl.innerHTML = '';
        tr.skills.forEach(s => { const li = document.createElement('li'); li.innerText = s; sl.appendChild(li); });
        const hl = document.getElementById('help-list'); hl.innerHTML = '';
        tr.help.forEach(h => { const li = document.createElement('li'); li.innerText = h; hl.appendChild(li); });
        document.getElementById('lang-btn').innerText = currentLang.toUpperCase();
        renderGallery();
    }

    function toggleLang() { currentLang = currentLang === 'ru' ? 'en' : 'ru'; updateUI(); }

    function createCard(work, i) {
        const card = document.createElement('div');
        card.id = `card-p${work.id}`;
        card.className = 'card';
        card.setAttribute('data-aos', 'fade-up');
        updateCardHTML(card, work);
        return card;
    }

    function updateCardHTML(card, work) {
        const tr = translations[currentLang];
        let s = '', d = '';
        work.images.forEach((img, idx) => {
            s += `<div class="slide ${idx === 0 ? 'active' : ''}" onclick="openLB(${myWorks.indexOf(work)}, ${idx})"><img src="${img}" loading="lazy"></div>`;
            d += `<div class="dot ${idx === 0 ? 'active' : ''}"></div>`;
        });
        const n = tr[`p${work.id}_n`] || "Project #" + work.id;
        const t = tr[`p${work.id}_t`] || "3D Visualisation";
        card.innerHTML = `<div class="slider-viewport"><button class="nav-arrow arrow-left" onclick="changeSlide(this, -1, event)">‚ùÆ</button><button class="nav-arrow arrow-right" onclick="changeSlide(this, 1, event)">‚ùØ</button>${s}<div class="dots">${d}</div></div><div style="padding:30px"><h3>${n}</h3><p>${t}</p></div>`;
        
        const vp = card.querySelector('.slider-viewport');
        if (work.images.length > 1) {
            let startX = 0;
            vp.addEventListener('touchstart', (e) => { startX = e.touches.clientX; }, {passive: true});
            vp.addEventListener('touchend', (e) => {
                let diff = startX - e.changedTouches.clientX;
                if (Math.abs(diff) > 40) manualChange(vp, diff > 0 ? 1 : -1);
            }, {passive: true});
        }
    }

    function updateCard(id) {
        const card = document.getElementById(`card-p${id}`);
        const work = myWorks.find(w => w.id === id);
        if (card && work) updateCardHTML(card, work);
    }

    function manualChange(vp, dir) {
        const slides = vp.querySelectorAll('.slide'), dots = vp.querySelectorAll('.dot');
        let curr = Array.from(slides).findIndex(el => el.classList.contains('active'));
        if (curr === -1) return;
        slides[curr].classList.remove('active'); dots[curr].classList.remove('active');
        curr = (curr + dir + slides.length) % slides.length;
        slides[curr].classList.add('active'); dots[curr].classList.add('active');
    }

    function changeSlide(btn, dir, e) { e.stopPropagation(); manualChange(btn.parentElement, dir); }

    function renderGallery() {
        const grid = document.getElementById('portfolio-grid'); grid.innerHTML = '';
        myWorks.forEach((w, i) => grid.appendChild(createCard(w, i)));
    }

    let currentWorkIdx = 0, currentImgIdx = 0;
    const lb = document.getElementById('lightbox'), lbImg = document.getElementById('lb-img');

    function openLB(wIdx, iIdx) {
        currentWorkIdx = wIdx; currentImgIdx = iIdx;
        lbImg.src = myWorks[currentWorkIdx].images[currentImgIdx];
        lb.style.display = 'flex';
    }

    function changeLBImg(dir, e) {
        if(e) e.stopPropagation();
        const imgs = myWorks[currentWorkIdx].images;
        currentImgIdx = (currentImgIdx + dir + imgs.length) % imgs.length;
        lbImg.src = myWorks[currentWorkIdx].images[currentImgIdx];
    }

    function closeLB(e) { if (e.target.id === 'lightbox' || e.target.id === 'lb-img') lb.style.display = 'none'; }

    let lbSX = 0, lbSY = 0;
    lb.addEventListener('touchstart', e => { lbSX = e.touches.clientX; lbSY = e.touches.clientY; }, {passive: true});
    lb.addEventListener('touchend', e => {
        let dX = lbSX - e.changedTouches.clientX, dY = lbSY - e.changedTouches.clientY;
        if (Math.abs(dX) > Math.abs(dY)) { if (Math.abs(dX) > 50) changeLBImg(dX > 0 ? 1 : -1); }
        else if (Math.abs(dY) > 50) {
            currentWorkIdx = (currentWorkIdx + (dY > 0 ? 1 : -1) + myWorks.length) % myWorks.length;
            currentImgIdx = 0; lbImg.src = myWorks[currentWorkIdx].images[currentImgIdx];
        }
    }, {passive: true});

    function toggleTheme() { 
        document.body.setAttribute('data-theme', document.body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark');
        updateUI();
    }
    function copyToClipboard(t) { navigator.clipboard.writeText(t); alert('Copied: ' + t); }
    window.onscroll = () => { document.getElementById("progress-bar").style.width = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100 + "%"; };
    document.addEventListener('DOMContentLoaded', () => { discoverWorks(); AOS.init({ duration: 800, once: true }); });
</script>
</body>
</html>
